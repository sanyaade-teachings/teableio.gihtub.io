# 动作

动作定义了触发器被激活后要执行的具体操作。Teable 提供了多种动作类型，让您能够实现各种自动化需求。以下是详细的动作配置说明：

### 1. 创建记录

**功能**：在指定表格中创建新记录。

**配置项**：

* 目标表格：选择要创建记录的表格
* 字段值：为新记录设置各个字段的值
  * 可以使用静态值、动态变量
  * 支持设置多个字段

**注意事项**：

* 确保填写所有必填字段
* 可以利用触发器或之前步骤的数据来填充新记录

### 2. 获取记录

**功能**：从指定视图或基于特定条件查找记录。

**配置项**：

* 数据源：选择要查询的表格和视图
* 查询条件：设置筛选条件（可选）
* 排序：设置结果排序方式（可选）
* 限制：设置返回记录的最大数量（最多1000条）

**注意事项**：

* 合理使用查询条件可以提高查询效率
* 获取的记录可以用于后续动作中

### 3. HTTP 请求

**功能**：发送自定义 HTTP 请求到外部 API。

**配置项**：

* 请求 URL：输入目标 API 的 URL
* 请求方法：选择 GET、POST、PUT、DELETE 等
* 请求头：添加自定义 HTTP 头
* Body：设置请求体内容（适用于 POST、PUT 等方法）

**高级选项**：

* 混合模式：可以在请求中使用静态值和动态变量
* 文件模式：专门用于发送文件类型的数据

**注意事项**：

* 确保 URL 和认证信息的正确性
* 注意 API 的速率限制和响应格式

### 4. 发送邮件

**功能**：发送自定义邮件。

**配置项**：

* 收件人：输入收件人邮箱地址
* 主题：设置邮件主题
* 正文：编写邮件内容
* 发件人姓名：自定义发件人显示名称
* 抄送（CC）：添加抄送收件人
* 密送（BCC）：添加密送收件人
* 回复邮件地址：设置回复时的目标地址
* 附件：添加邮件附件

**注意事项**：

* 支持使用 HTML 格式化邮件内容
* 可以使用动态变量个性化邮件内容
* 注意附件大小限制

### 5. 更新记录

**功能**：更新已存在记录的字段值。

**配置项**：

* 目标记录：通过表格和记录 ID 选择要更新的记录
* 更新字段：选择需要更新的字段并设置新值
* 更新模式：
  * 单字段更新：只更新指定的字段
  * 模板更新：按预定义的模板更新多个字段

**注意事项**：

* 可以使用条件来决定是否执行更新
* 更新操作会触发相关的字段自动化和公式重新计算

## 跨数据库访问

Teable 的自动化功能支持跨数据库访问记录，这大大增强了自动化的灵活性和功能性。以下是关于跨数据库访问的详细说明：

#### 功能概述

* 允许在自动化流程中访问其他空间和数据库的数据
* 适用于需要整合多个数据库信息的复杂工作流

#### 配置方法

1. 在选择表格时，点击表格选择区旁边的"跨数据库访问"选项
2. 切换到任意空间的任意数据库
3. 选择目标表格或视图

#### 访问权限

* 访问权限由自动化创建者决定
* 外部数据库将通过自动化配置人员的权限和身份进行访问

#### 注意事项

* 若配置人员失去目标数据库的访问权限，则自动化将执行失败

#### 应用场景

1. **数据整合**：从多个数据库获取数据，进行综合分析或报告生成
2. **跨部门协作**：在不同部门的数据库之间同步或更新信息
3. **全局更新**：根据一个数据库的变化，更新多个相关数据库的记录

#### 在现有动作中的应用

1. **创建记录**：可以基于其他数据库的数据在当前数据库创建新记录
2. **获取记录**：从其他数据库获取记录用于当前自动化流程
3. **更新记录**：使用跨数据库获取的信息更新当前数据库的记录



## 循环执行

**功能概述**

循环执行允许您在进行更新记录、创建记录和HTTP请求操作时，对数组中的多个元素进行批量处理。系统会自动遍历数组中的每个元素并依次执行相应操作，大大提升了数据处理效率。\


**配置指南**

#### 更新记录和创建记录配置

1. 在表格选择界面找到表格选择区
2. 点击表格选择区下方的"循环执行"选项
3. 从下拉菜单中选择作为循环源的数组变量



#### HTTP请求配置

1. 进入HTTP请求编辑界面
2. 在body编辑区域上方找到"数组输出"选项
3. 点击并选择需要循环处理的数组数据源



**使用须知**



#### 数据处理机制

* 系统会自动遍历数组中的每个元素
* 在参数配置中选择数组内部的变量时，每次循环仅处理当前元素值
* 整个过程按数组元素顺序依次执行

\
HTTP请求特殊说明

* 在body编辑框内直接使用数组输出时，数组内元素自动转换为字符串格式输出

\


**应用场景示例**

1\. 批量创建记录

* 批量导入用户数据
* 批量创建订单信息
* 批量生成任务记录



#### 2. 批量更新记录

* 批量修改状态
* 批量更新价格
* 批量调整库存



#### 3. 批量HTTP请求

* 批量推送消息通知
* 批量同步数据
* 批量验证信息



通过灵活组合这些动作，您可以构建复杂的自动化工作流，大大提高工作效率和数据处理的准确性。
